Usage: celery [OPTIONS] COMMAND [ARGS]...
Try 'celery --help' for help.

Error: Invalid value for '-A' / '--app': 
Unable to load celery application.
While trying to load the module medinote.curation.celery_tasks the following error occurred:
Traceback (most recent call last):
  File "/home/agent/.local/lib/python3.9/site-packages/celery/app/utils.py", line 383, in find_app
    sym = symbol_by_name(app, imp=imp)
  File "/home/agent/.local/lib/python3.9/site-packages/kombu/utils/imports.py", line 64, in symbol_by_name
    return getattr(module, cls_name) if cls_name else module
AttributeError: module 'medinote.curation' has no attribute 'celery_tasks'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/agent/.local/lib/python3.9/site-packages/celery/bin/celery.py", line 58, in convert
    return find_app(value)
  File "/home/agent/.local/lib/python3.9/site-packages/celery/app/utils.py", line 386, in find_app
    sym = imp(app)
  File "/home/agent/.local/lib/python3.9/site-packages/celery/utils/imports.py", line 109, in import_from_cwd
    return imp(module, package=package)
  File "/usr/lib/python3.9/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1030, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1007, in _find_and_load
  File "<frozen importlib._bootstrap>", line 986, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 680, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 850, in exec_module
  File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed
  File "/home/agent/workspace/MediNoteAI/src/medinote/curation/celery_tasks.py", line 34, in <module>
    module = importlib.import_module(module_name)
  File "/usr/lib/python3.9/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1030, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1007, in _find_and_load
  File "<frozen importlib._bootstrap>", line 986, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 680, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 850, in exec_module
  File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed
  File "/home/agent/workspace/MediNoteAI/src/medinote/curation/curate.py", line 4, in <module>
    from medinote.curation.celery_tasks import asyc_inference_via_celery
ImportError: cannot import name 'asyc_inference_via_celery' from partially initialized module 'medinote.curation.celery_tasks' (most likely due to a circular import) (/home/agent/workspace/MediNoteAI/src/medinote/curation/celery_tasks.py)

Usage: celery [OPTIONS] COMMAND [ARGS]...
Try 'celery --help' for help.

Error: Invalid value for '-A' / '--app': 
Unable to load celery application.
While trying to load the module medinote.curation.celery_tasks the following error occurred:
Traceback (most recent call last):
  File "/home/agent/.local/lib/python3.9/site-packages/celery/app/utils.py", line 383, in find_app
    sym = symbol_by_name(app, imp=imp)
  File "/home/agent/.local/lib/python3.9/site-packages/kombu/utils/imports.py", line 64, in symbol_by_name
    return getattr(module, cls_name) if cls_name else module
AttributeError: module 'medinote.curation' has no attribute 'celery_tasks'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/agent/.local/lib/python3.9/site-packages/celery/bin/celery.py", line 58, in convert
    return find_app(value)
  File "/home/agent/.local/lib/python3.9/site-packages/celery/app/utils.py", line 386, in find_app
    sym = imp(app)
  File "/home/agent/.local/lib/python3.9/site-packages/celery/utils/imports.py", line 109, in import_from_cwd
    return imp(module, package=package)
  File "/usr/lib/python3.9/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1030, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1007, in _find_and_load
  File "<frozen importlib._bootstrap>", line 986, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 680, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 850, in exec_module
  File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed
  File "/home/agent/workspace/MediNoteAI/src/medinote/curation/celery_tasks.py", line 34, in <module>
    module = importlib.import_module(module_name)
  File "/usr/lib/python3.9/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1030, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1007, in _find_and_load
  File "<frozen importlib._bootstrap>", line 986, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 680, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 850, in exec_module
  File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed
  File "/home/agent/workspace/MediNoteAI/src/medinote/curation/curate.py", line 4, in <module>
    from medinote.curation.celery_tasks import asyc_inference_via_celery
ImportError: cannot import name 'asyc_inference_via_celery' from partially initialized module 'medinote.curation.celery_tasks' (most likely due to a circular import) (/home/agent/workspace/MediNoteAI/src/medinote/curation/celery_tasks.py)

Usage: celery [OPTIONS] COMMAND [ARGS]...
Try 'celery --help' for help.

Error: Invalid value for '-A' / '--app': 
Unable to load celery application.
While trying to load the module medinote.curation.celery_tasks the following error occurred:
Traceback (most recent call last):
  File "/home/agent/.local/lib/python3.9/site-packages/celery/app/utils.py", line 383, in find_app
    sym = symbol_by_name(app, imp=imp)
  File "/home/agent/.local/lib/python3.9/site-packages/kombu/utils/imports.py", line 64, in symbol_by_name
    return getattr(module, cls_name) if cls_name else module
AttributeError: module 'medinote.curation' has no attribute 'celery_tasks'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/agent/.local/lib/python3.9/site-packages/celery/bin/celery.py", line 58, in convert
    return find_app(value)
  File "/home/agent/.local/lib/python3.9/site-packages/celery/app/utils.py", line 386, in find_app
    sym = imp(app)
  File "/home/agent/.local/lib/python3.9/site-packages/celery/utils/imports.py", line 109, in import_from_cwd
    return imp(module, package=package)
  File "/usr/lib/python3.9/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1030, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1007, in _find_and_load
  File "<frozen importlib._bootstrap>", line 986, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 680, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 850, in exec_module
  File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed
  File "/home/agent/workspace/MediNoteAI/src/medinote/curation/celery_tasks.py", line 5, in <module>
    import redis
ModuleNotFoundError: No module named 'redis'

Usage: celery [OPTIONS] COMMAND [ARGS]...
Try 'celery --help' for help.

Error: Invalid value for '-A' / '--app': 
Unable to load celery application.
While trying to load the module medinote.curation.celery_tasks the following error occurred:
Traceback (most recent call last):
  File "/home/agent/.local/lib/python3.9/site-packages/celery/app/utils.py", line 383, in find_app
    sym = symbol_by_name(app, imp=imp)
  File "/home/agent/.local/lib/python3.9/site-packages/kombu/utils/imports.py", line 64, in symbol_by_name
    return getattr(module, cls_name) if cls_name else module
AttributeError: module 'medinote.curation' has no attribute 'celery_tasks'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/agent/.local/lib/python3.9/site-packages/celery/bin/celery.py", line 58, in convert
    return find_app(value)
  File "/home/agent/.local/lib/python3.9/site-packages/celery/app/utils.py", line 386, in find_app
    sym = imp(app)
  File "/home/agent/.local/lib/python3.9/site-packages/celery/utils/imports.py", line 109, in import_from_cwd
    return imp(module, package=package)
  File "/usr/lib/python3.9/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1030, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1007, in _find_and_load
  File "<frozen importlib._bootstrap>", line 986, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 680, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 850, in exec_module
  File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed
  File "/home/agent/workspace/MediNoteAI/src/medinote/curation/celery_tasks.py", line 5, in <module>
    import redis
ModuleNotFoundError: No module named 'redis'

Usage: celery [OPTIONS] COMMAND [ARGS]...
Try 'celery --help' for help.

Error: Invalid value for '-A' / '--app': 
Unable to load celery application.
While trying to load the module medinote.curation.celery_tasks the following error occurred:
Traceback (most recent call last):
  File "/home/agent/.local/lib/python3.9/site-packages/celery/app/utils.py", line 383, in find_app
    sym = symbol_by_name(app, imp=imp)
  File "/home/agent/.local/lib/python3.9/site-packages/kombu/utils/imports.py", line 64, in symbol_by_name
    return getattr(module, cls_name) if cls_name else module
AttributeError: module 'medinote.curation' has no attribute 'celery_tasks'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/agent/.local/lib/python3.9/site-packages/celery/bin/celery.py", line 58, in convert
    return find_app(value)
  File "/home/agent/.local/lib/python3.9/site-packages/celery/app/utils.py", line 386, in find_app
    sym = imp(app)
  File "/home/agent/.local/lib/python3.9/site-packages/celery/utils/imports.py", line 109, in import_from_cwd
    return imp(module, package=package)
  File "/usr/lib/python3.9/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1030, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1007, in _find_and_load
  File "<frozen importlib._bootstrap>", line 986, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 680, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 850, in exec_module
  File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed
  File "/home/agent/workspace/MediNoteAI/src/medinote/curation/celery_tasks.py", line 42, in <module>
    from apps.utils.dealcloud_util import get_result_from_sql
ModuleNotFoundError: No module named 'apps'

 
 -------------- celery@workspace-generative-ai-0 v5.3.6 (emerald-rush)
--- ***** ----- 
-- ******* ---- Linux-5.15.0-1053-azure-x86_64-with-glibc2.31 2024-02-26 22:51:37
- *** --- * --- 
- ** ---------- [config]
- ** ---------- .> app:         tasks:0x7f38d1ba31c0
- ** ---------- .> transport:   redis://redis:6379/5
- ** ---------- .> results:     redis://redis:6379/5
- *** --- * --- .> concurrency: 4 (prefork)
-- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
--- ***** ----- 
 -------------- [queues]
                .> celery           exchange=celery(direct) key=celery
                

[tasks]
  . medinote.curation.celery_tasks.process_data

[2024-02-26 22:51:37,977: WARNING/MainProcess] /home/agent/.local/lib/python3.9/site-packages/celery/worker/consumer/consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
whether broker connection retries are made during startup in Celery 6.0 and above.
If you wish to retain the existing behavior for retrying connections on startup,
you should set broker_connection_retry_on_startup to True.
  warnings.warn(

[2024-02-26 22:51:38,034: INFO/MainProcess] Connected to redis://redis:6379/5
[2024-02-26 22:51:38,035: WARNING/MainProcess] /home/agent/.local/lib/python3.9/site-packages/celery/worker/consumer/consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
whether broker connection retries are made during startup in Celery 6.0 and above.
If you wish to retain the existing behavior for retrying connections on startup,
you should set broker_connection_retry_on_startup to True.
  warnings.warn(

[2024-02-26 22:51:38,054: INFO/MainProcess] mingle: searching for neighbors
[2024-02-26 22:51:39,073: INFO/MainProcess] mingle: all alone
[2024-02-26 22:51:39,115: INFO/MainProcess] celery@workspace-generative-ai-0 ready.
[2024-02-26 22:56:34,231: INFO/MainProcess] Events of group {task} enabled by remote.
